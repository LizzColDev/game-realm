{"version":3,"file":"static/js/469.cb579ffb.chunk.js","mappings":"yLAEA,SAASA,EAAwBC,GAChC,IAAMC,GAASC,EAAAA,EAAAA,QAAO,MACtBC,GAA4BC,EAAAA,EAAAA,WAAS,GAAMC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAApCI,EAAMF,EAAA,GAAEG,EAASH,EAAA,GACxBI,GAA0BL,EAAAA,EAAAA,UAAS,CAAC,GAAEM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA/BE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GAiCtB,OAhCEG,EAAAA,EAAAA,YAAU,WACX,IAAMC,EAAW,IAAIC,sBAAqB,SAACC,GAC1CA,EAAQC,SAAQ,SAACC,GAChB,GAAIA,EAAMC,iBAAmBZ,EAC5B,GAAII,EAAMX,EAAMoB,KAEfZ,GAAU,OACJ,CAEN,IAAMa,EAAM,IAAIC,MAChBD,EAAID,IAAMpB,EAAMoB,IAChBC,EAAIE,OAAS,WAEZX,GAAS,SAACY,GAAS,OAAAC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAWD,GAAS,IAAAE,EAAAA,EAAAA,GAAA,GAAG1B,EAAMoB,IAAMC,GAAG,IACzDb,GAAU,EACX,CACD,CAEF,GACD,IAMA,OAJIP,EAAO0B,SACVb,EAASc,QAAQ3B,EAAO0B,SAGlB,WACF1B,EAAO0B,SACVb,EAASe,UAAU5B,EAAO0B,QAE5B,CACD,GAAG,CAAC3B,EAAMoB,IAAKb,EAAQI,EAAOV,IAExB,CAACA,OAAAA,EACNM,OAAAA,EACF,C,yICKA,MAvCA,SAAiBuB,GAAwB,IAAtBC,EAASD,EAATC,UAAc/B,GAAKgC,EAAAA,EAAAA,GAAAF,EAAAG,GACrCC,GAAmCC,EAAAA,EAAAA,YAAWC,EAAAA,GAAvCC,EAAKH,EAALG,MAAOC,EAAkBJ,EAAlBI,mBAEdC,GAAyBxC,EAAAA,EAAAA,GAAwBC,GAA1CC,EAAMsC,EAANtC,OAAQM,EAAMgC,EAANhC,OAQf,OACCiC,EAAAA,EAAAA,MAAA,OAAoBT,UAAWA,EAAUU,SAAA,EAExCC,EAAAA,EAAAA,KAAA,OACCX,UAAS,YAAAY,OAAcpC,EAAS,SAAW,YAC3CqC,GAAI5C,EAAM4C,GACVC,KAAM7C,EAAM6C,KACZC,IAAK7C,EACLmB,IAAKpB,EAAMoB,IACX2B,QAAQ,OACRC,QAhBmB,SAACC,GACtB,IAAMC,EAASD,EAAEE,OAAOP,GACxBP,EAAMa,GACNZ,GAAmB,SAAAc,GAAS,OAAKA,CAAS,GAC3C,KAgBEZ,EAAAA,EAAAA,MAAA,MAAIa,IAAKrD,EAAM6C,KAAMd,UAAU,YAAWU,SAAA,CAAEzC,EAAM6C,KAAK,SAb9C7C,EAAM4C,GAiBlB,C","sources":["App/GameContext/useIntersectionObserver.js","components/GameCard/index.js"],"sourcesContent":["import { useEffect, useState, useRef } from 'react';\n\nfunction useIntersectionObserver(props){\n\tconst imgRef = useRef(null);\n\tconst [loaded, setLoaded] = useState(false);\n\tconst [cache, setCache] = useState({});\n\t\t useEffect(() => {\n\t\tconst observer = new IntersectionObserver((entries) => {\n\t\t\tentries.forEach((entry) => {\n\t\t\t\tif (entry.isIntersecting && !loaded) {\n\t\t\t\t\tif (cache[props.src]) {\n\t\t\t\t\t\t// Si la imagen ya está en caché, marcar como cargada\n\t\t\t\t\t\tsetLoaded(true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// Si no está en caché, crear una nueva instancia de Image\n\t\t\t\t\t\tconst img = new Image();\n\t\t\t\t\t\timg.src = props.src;\n\t\t\t\t\t\timg.onload = () => {\n\t\t\t\t\t\t\t// Al cargar, agregar a la caché y marcar como cargada\n\t\t\t\t\t\t\tsetCache((prevCache) => ({ ...prevCache, [props.src]: img }));\n\t\t\t\t\t\t\tsetLoaded(true);\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\n\t\tif (imgRef.current) {\n\t\t\tobserver.observe(imgRef.current);\n\t\t}\n\t\n\t\treturn () => {\n\t\t\tif (imgRef.current) {\n\t\t\t\tobserver.unobserve(imgRef.current);\n\t\t\t}\n\t\t};\n\t}, [props.src, loaded, cache, imgRef]);\n\n\treturn{imgRef,\n\t\tloaded};\n}\n\nexport {useIntersectionObserver};","import React, {useContext} from 'react';\nimport PropTypes from 'prop-types';\nimport './GameCard.css';\nimport { GameContext } from '../../App/GameContext';\nimport { useIntersectionObserver } from '../../App/GameContext/useIntersectionObserver';\n\nfunction GameCard({className, ...props}){\n\tconst {getId, setOpenModalByGame} =useContext(GameContext);\n\n\tconst {imgRef, loaded} = useIntersectionObserver(props);\n\n\tconst onClickButton = (e) => {\n\t\tconst idGame = e.target.id;\n\t\tgetId(idGame);\n\t\tsetOpenModalByGame(prevState => !prevState);\n\t};\n\n\treturn (\n\t\t<div key={props.id} className={className}>\n\t\t\t\n\t\t\t<img\n\t\t\t\tclassName={`img-card ${loaded ? 'loaded' : 'skeleton'}`}\n\t\t\t\tid={props.id}\n\t\t\t\tname={props.name}\n\t\t\t\tref={imgRef}\n\t\t\t\tsrc={props.src}\n\t\t\t\tloading=\"lazy\"\n\t\t\t\tonClick={onClickButton}\n\t\t\t/>\n\t\t\t\n\n\t\t\t<h3 alt={props.name} className=\"name-game\">{props.name} </h3>\n\t\t\t\n\t\t</div>\n\t);\n}\n\nGameCard.propTypes = {\n\tid: PropTypes.number,\n\tname: PropTypes.string,\n\tsrc: PropTypes.string,\n\tchildren: PropTypes.node,\n\tsetOpenModalByGame: PropTypes.func,\n\tclassName: PropTypes.string\n};\nexport default GameCard;"],"names":["useIntersectionObserver","props","imgRef","useRef","_useState","useState","_useState2","_slicedToArray","loaded","setLoaded","_useState3","_useState4","cache","setCache","useEffect","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","src","img","Image","onload","prevCache","_objectSpread","_defineProperty","current","observe","unobserve","_ref","className","_objectWithoutProperties","_excluded","_useContext","useContext","GameContext","getId","setOpenModalByGame","_useIntersectionObser","_jsxs","children","_jsx","concat","id","name","ref","loading","onClick","e","idGame","target","prevState","alt"],"sourceRoot":""}